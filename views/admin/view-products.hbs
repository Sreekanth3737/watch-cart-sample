<section>
    <div class="container">
        <div class="row mt-5 d-flex justify-content-center">
           <a href="/admin/add-product" style="height: 40px; width:300px;"  class="btn btn-warning "><span>ADD PRODUCTS</span></a>
        </div>
        <table class="table mt-5 border rounded border-secondary">
  <thead class="table-success">
    <tr>
      {{!-- <th scope="col">No</th> --}}
      <th scope="col">Name</th>
      <th scope="col">Price</th>
       <th scope="col">Category</th> 
      <th scope="col">Sub Category</th>
      <th scope="col">image</th>
      {{!-- <th scope="col">Auxilary-Image</th> --}}
      {{!-- <th scope="col">Stock</th> --}}
      <th scope="col">Options</th>
    </tr>
  </thead>
  <tbody>
      {{#each products}}
       
    <tr>
      {{!-- <th scope="row">1</th> --}}
      <td>{{this.brandnames.brand}}</td>
      <td>{{this.price}}</td> 
      <td>{{this.catagory.category}}</td>
      <td>{{this.subcategory.subcategoryName}}</td>
      <td><img style="width:50px;height:50px" src="/images/{{this.allImages.[0]}}" alt=""></td>
      {{!-- <td><img style="width:50px;height:50px" src="/images/{{this.allImages.[0]}}" alt=""></td> --}}
      {{!-- <td>{{this.stock}}</td> --}}
      <td>
        <a href="/admin/edit-product/{{this._id}}" class="btn btn-outline-success mx-3 mt-3" onclick="return confirm('are you want to Edit{{this.name}}?')">Edit</a>
        <a href="/admin/delete-product/{{this._id}}" class="btn btn-danger mx-3 mt-3 delete-button" >Delete</a>
      </td>
      
    </tr>
    <tr>
    {{/each}}
    
    
  </tbody>
</table>
    </div>
</section>

<script>
  // delete popup
  $(".delete-button").on("click", function (e) {
    e.preventDefault();
    var self = $(this);
    console.log(self.data("title"));
    Swal.fire({
      title: "Are you sure?",
      text: "You won't be able to revert this!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "Yes, delete it!",
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire("Deleted!", "Your file has been deleted.", "success");
        location.href = self.attr("href");
      }
    });
  });
</script>